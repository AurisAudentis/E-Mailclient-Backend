{"version":3,"file":"InitLocal.js","sourceRoot":"","sources":["InitLocal.ts"],"names":[],"mappings":";;AACA,mDAA8C;AAC9C,qCAAqC;AAErC,uDAAsD;AAEtD,SAAgB,aAAa,CAAC,GAAY;IACtC,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC,UAAU,EAAE,CAAC,CAAC;IAC/B,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC,CAAC;IAC5B,QAAQ,CAAC,GAAG,CAAC,6BAAa,CAAC,CAAC;IAC5B,QAAQ,CAAC,aAAa,CAAC,CAAC,IAAW,EAAE,IAAI,EAAE,EAAE;QACzC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;IACzB,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,eAAe,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,EAAE;QAClC,iBAAS,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,EAAE;YACjC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;QACpB,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC;AACP,CAAC;AAbD,sCAaC","sourcesContent":["import {Express} from \"express\";\nimport {localstrategy} from \"./LocalStrategy\";\nimport passport= require(\"passport\");\nimport {IUser} from \"../../Database/Documents/IUser\";\nimport {userModel} from \"../../Database/Models/DUser\";\n\nexport function initLocalAuth(app: Express) {\n    app.use(passport.initialize());\n    app.use(passport.session());\n    passport.use(localstrategy);\n    passport.serializeUser((user: IUser, done) => {\n        done(null, user._id);\n    });\n\n    passport.deserializeUser((id, done) => {\n        userModel.findById(id, (err, user) => {\n            done(err, user);\n        });\n    });\n}\n"]}