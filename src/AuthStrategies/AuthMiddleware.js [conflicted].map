{"version":3,"file":"AuthMiddleware.js","sourceRoot":"","sources":["AuthMiddleware.ts"],"names":[],"mappings":";;AAAA,SAAgB,QAAQ,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI;IACnC,IAAI,GAAG,CAAC,eAAe,EAAE,EAAE;QACvB,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,CAAE,8DAA8D;QAC/F,OAAO,IAAI,EAAE,CAAC;KACjB;IACD,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IAChB,GAAG,CAAC,GAAG,EAAE,CAAC;AACd,CAAC;AAPD,4BAOC","sourcesContent":["export function isAuthed(req, res, next) {\n    if (req.isAuthenticated()) {\n        req.user.key = req.session.key;  // The key must be stored in session, but belongs in the user.\n        return next();\n    }\n    res.status(409);\n    res.end();\n}\n"]}